# MEMORY IN JAVA

## 1. static이 붙은 변수들은 어디에 저장되는가?
- method area의 클래스 정보에 포함된다.

## 2. 그렇다면 아래의 16이라는 값은 실제로 어디에 저장되는가?
```java
class Temp {
    static int a = 16;
}
```
- 그냥 method area에 저장된다.

## 3. static 변수인데 레퍼런스 타입이면 그 실제 값은 어디에 저장되는가?
- 힙에 데이터를 저장한 다음 그 주소값을 method area에 가지고 있는다. 언제? 클래스가 로딩될 때

## 4. 3번에서의 레퍼런스 타입의 데이터는 GC의 대상이 아닌가?
- GC의 검사 대상이긴 하지만 method area에서 해당 변수를 참조하고 있으므로 Old Generation 으로 넘어간다.
- final static이 아닌 경우에 새로운 reference type이 할당되면 GC될 것

## 5. A a = new A(); 를 실행하면 메모리에 무슨 일이 일어나는가?
- 힙에 A 클래스의 인스턴스 크기만큼 메모리를 할당한다. 힙에 할당된 A의 첫번째 주소를 a에 할당한다.
- 클래스의 메소드 정보는 method area에 저장되어 있다. why? 힙은 변경 가능성이 있는 데이터들을 저장하는 곳인데 메서드는 변경할 수도 없거니와 변경 되서도 안된다.

## 6. 인스턴스의 크기는 어떻게 정의할 수 있는가?
- 해당 클래스가 가지고 있는 변수의 크기만큼 할당한다. primitive 타입의 변수면 해당 타입의 크기만큼 할당받고, reference 타입은 포인터(?)의 크기만큼 할당한다.

## 7. int 타입의 변수는 정말 4byte만큼만 할당되는가?
- 그렇지 않다. 해당 변수의 메타 정보를 같이 포함해야 하므로 4byte보다 더 크다. (자료 리서치 필요)

## 8. 클래스의 인스턴스 변수들은 어디에 저장되는가?
- reference type(참조타입) : heap에 저장된다. reference type의 주소값만을 저장
- primitive type : 마찬가지로 heap에 저장된다. 값 그대로 저장된다.

## 9. 클래스를 상속할 시 어디에 저장되는가? (class B extends A 일 시)
- A는 따로 heap영역에 자신이 가지고 있는 변수 크기만큼(static 변수는 제외) 할당되어 자리를 차지한다.
- B는 A로부터 상속받은 변수 크기 + 자신이 가지고 있는 변수의 크기만큼 추가적인 자리를 할당받는다.
- 그러므로 상속을 주의해서 사용해야한다.

## 10. 클래스의 메서드가 실행되었을 때 메모리는 어떻게 변화하는가?
- 메서드가 실행되면 해당 메서드의 스택프레임이 스택에 생성되고 해당 메서드의 매개변수들이 스택에 할당된다.
- 메서드에서 생성되는 로컬 변수 역시 스택 안에 생성된다.
- 메서드가 종료되면 해당 스택프레임은 없어진다.


